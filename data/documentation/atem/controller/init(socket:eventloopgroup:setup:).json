{"primaryContentSections":[{"kind":"declarations","declarations":[{"tokens":[{"kind":"keyword","text":"init"},{"kind":"text","text":"("},{"kind":"externalParam","text":"socket"},{"kind":"text","text":": "},{"kind":"typeIdentifier","text":"SocketAddress","preciseIdentifier":"s:3NIO13SocketAddressO"},{"kind":"text","text":", "},{"kind":"externalParam","text":"eventLoopGroup"},{"kind":"text","text":": "},{"kind":"typeIdentifier","text":"EventLoopGroup","preciseIdentifier":"s:3NIO14EventLoopGroupP"},{"kind":"text","text":" = sharedEventLoopGroup, "},{"kind":"externalParam","text":"setup"},{"kind":"text","text":": ("},{"kind":"typeIdentifier","identifier":"doc:\/\/Atem\/documentation\/Atem\/ControllerConnection","preciseIdentifier":"s:4Atem20ControllerConnectionP","text":"ControllerConnection"},{"kind":"text","text":") -> "},{"kind":"typeIdentifier","text":"Void","preciseIdentifier":"s:s4Voida"},{"kind":"text","text":" = {_ in})"}],"languages":["swift"],"platforms":["macOS"]}]},{"kind":"parameters","parameters":[{"name":"socket","content":[{"type":"paragraph","inlineContent":[{"type":"text","text":"the network socket for the switcher."}]}]},{"name":"eventLoopGroup","content":[{"type":"paragraph","inlineContent":[{"type":"text","text":"the underlying "},{"type":"codeVoice","code":"EventLoopGroup"},{"type":"text","text":" that will be used for the network connection."}]}]},{"name":"setup","content":[{"type":"paragraph","inlineContent":[{"type":"text","text":"a closure that will be called before establishing the connection to the switcher. Use the provided "},{"type":"codeVoice","code":"ControllerConnection"},{"type":"text","text":" to register callbacks for incoming messages from the switcher."}]}]}]},{"kind":"content","content":[{"anchor":"discussion","level":2,"type":"heading","text":"Discussion"},{"type":"paragraph","inlineContent":[{"type":"text","text":"When a connection to a switcher is being initialized it will receive "},{"type":"codeVoice","code":"Message"},{"type":"text","text":"s from the switcher to describe its initial state. If you are interested in these messages use the "},{"type":"codeVoice","code":"setup"},{"type":"text","text":" parameter to set up handlers for them (see "},{"type":"reference","isActive":true,"identifier":"doc:\/\/Atem\/documentation\/Atem\/ControllerConnection"},{"type":"text","text":"’s "},{"type":"reference","isActive":true,"identifier":"doc:\/\/Atem\/documentation\/Atem\/ControllerConnection\/when(_:)"},{"type":"text","text":"). When the connection initiation process is finished the "},{"type":"reference","isActive":true,"identifier":"doc:\/\/Atem\/documentation\/Atem\/Message\/Config\/InitiationComplete"},{"type":"text","text":" message will be sent. From that moment on you know that a connection is succesfully established."}]}]}],"schemaVersion":{"major":0,"minor":1,"patch":0},"sections":[],"variants":[{"paths":["\/documentation\/atem\/controller\/init(socket:eventloopgroup:setup:)"],"traits":[{"interfaceLanguage":"swift"}]}],"identifier":{"url":"doc:\/\/Atem\/documentation\/Atem\/Controller\/init(socket:eventLoopGroup:setup:)","interfaceLanguage":"swift"},"abstract":[{"type":"text","text":"Start a new Controller that connects to an ATEM Switcher specified by its IP address."}],"kind":"symbol","metadata":{"fragments":[{"kind":"identifier","text":"init"},{"kind":"text","text":"("},{"kind":"externalParam","text":"socket"},{"kind":"text","text":": "},{"kind":"typeIdentifier","text":"SocketAddress","preciseIdentifier":"s:3NIO13SocketAddressO"},{"kind":"text","text":", "},{"kind":"externalParam","text":"eventLoopGroup"},{"kind":"text","text":": "},{"kind":"typeIdentifier","text":"EventLoopGroup","preciseIdentifier":"s:3NIO14EventLoopGroupP"},{"kind":"text","text":", "},{"kind":"externalParam","text":"setup"},{"kind":"text","text":": ("},{"kind":"typeIdentifier","text":"ControllerConnection","preciseIdentifier":"s:4Atem20ControllerConnectionP"},{"kind":"text","text":") -> "},{"kind":"typeIdentifier","text":"Void","preciseIdentifier":"s:s4Voida"},{"kind":"text","text":")"}],"title":"init(socket:eventLoopGroup:setup:)","roleHeading":"Initializer","role":"symbol","symbolKind":"init","externalID":"s:4Atem10ControllerC6socket14eventLoopGroup5setupAC3NIO13SocketAddressO_AG05EventeF0_pyAA0B10Connection_pXEtcfc","modules":[{"name":"Atem"}]},"hierarchy":{"paths":[["doc:\/\/Atem\/documentation\/Atem","doc:\/\/Atem\/documentation\/Atem\/Controller"]]},"seeAlsoSections":[{"title":"Initializers","identifiers":["doc:\/\/Atem\/documentation\/Atem\/Controller\/init(forSwitcherAt:eventLoopGroup:setup:)"],"generated":true}],"references":{"doc://Atem/documentation/Atem":{"role":"collection","title":"Atem","abstract":[{"type":"text","text":"Implementation of BlackMagicDesign’s ATEM network communication protocol."}],"identifier":"doc:\/\/Atem\/documentation\/Atem","kind":"symbol","type":"topic","url":"\/documentation\/atem"},"doc://Atem/documentation/Atem/Controller":{"role":"symbol","title":"Controller","fragments":[{"kind":"keyword","text":"class"},{"kind":"text","text":" "},{"kind":"identifier","text":"Controller"}],"abstract":[{"type":"text","text":"A software based controller that sends messages to an ATEM Switcher."}],"identifier":"doc:\/\/Atem\/documentation\/Atem\/Controller","kind":"symbol","type":"topic","navigatorTitle":[{"kind":"identifier","text":"Controller"}],"url":"\/documentation\/atem\/controller"},"doc://Atem/documentation/Atem/Controller/init(forSwitcherAt:eventLoopGroup:setup:)":{"role":"symbol","title":"init(forSwitcherAt:eventLoopGroup:setup:)","fragments":[{"kind":"keyword","text":"convenience"},{"kind":"text","text":" "},{"kind":"identifier","text":"init"},{"kind":"text","text":"("},{"kind":"externalParam","text":"forSwitcherAt"},{"kind":"text","text":": "},{"kind":"typeIdentifier","text":"String","preciseIdentifier":"s:SS"},{"kind":"text","text":", "},{"kind":"externalParam","text":"eventLoopGroup"},{"kind":"text","text":": "},{"kind":"typeIdentifier","text":"EventLoopGroup","preciseIdentifier":"s:3NIO14EventLoopGroupP"},{"kind":"text","text":", "},{"kind":"externalParam","text":"setup"},{"kind":"text","text":": ("},{"kind":"typeIdentifier","text":"ControllerConnection","preciseIdentifier":"s:4Atem20ControllerConnectionP"},{"kind":"text","text":") -> "},{"kind":"typeIdentifier","text":"Void","preciseIdentifier":"s:s4Voida"},{"kind":"text","text":") "},{"kind":"keyword","text":"throws"}],"abstract":[{"type":"text","text":"Start a new Controller that connects to an ATEM Switcher specified by its IP address."}],"identifier":"doc:\/\/Atem\/documentation\/Atem\/Controller\/init(forSwitcherAt:eventLoopGroup:setup:)","kind":"symbol","type":"topic","url":"\/documentation\/atem\/controller\/init(forswitcherat:eventloopgroup:setup:)"},"doc://Atem/documentation/Atem/ControllerConnection":{"role":"symbol","title":"ControllerConnection","fragments":[{"kind":"keyword","text":"protocol"},{"kind":"text","text":" "},{"kind":"identifier","text":"ControllerConnection"}],"abstract":[{"type":"text","text":"A connection of a controller to a switcher."}],"identifier":"doc:\/\/Atem\/documentation\/Atem\/ControllerConnection","kind":"symbol","type":"topic","navigatorTitle":[{"kind":"identifier","text":"ControllerConnection"}],"url":"\/documentation\/atem\/controllerconnection"},"doc://Atem/documentation/Atem/Message/Config/InitiationComplete":{"role":"symbol","title":"Message.Config.InitiationComplete","fragments":[{"kind":"keyword","text":"struct"},{"kind":"text","text":" "},{"kind":"identifier","text":"InitiationComplete"}],"abstract":[{"type":"text","text":"Informs a controller that a connection is succesfully established."},{"type":"text","text":" "},{"type":"text","text":"This message should be sent at the end of the connection initiation. The connection initiation is the sequence of packets that is sent at the very beginning of a connection and they contain messages that represent the state of the device at the moment of conection."}],"identifier":"doc:\/\/Atem\/documentation\/Atem\/Message\/Config\/InitiationComplete","kind":"symbol","type":"topic","navigatorTitle":[{"kind":"identifier","text":"InitiationComplete"}],"url":"\/documentation\/atem\/message\/config\/initiationcomplete"},"doc://Atem/documentation/Atem/Controller/init(socket:eventLoopGroup:setup:)":{"role":"symbol","title":"init(socket:eventLoopGroup:setup:)","fragments":[{"kind":"identifier","text":"init"},{"kind":"text","text":"("},{"kind":"externalParam","text":"socket"},{"kind":"text","text":": "},{"kind":"typeIdentifier","text":"SocketAddress","preciseIdentifier":"s:3NIO13SocketAddressO"},{"kind":"text","text":", "},{"kind":"externalParam","text":"eventLoopGroup"},{"kind":"text","text":": "},{"kind":"typeIdentifier","text":"EventLoopGroup","preciseIdentifier":"s:3NIO14EventLoopGroupP"},{"kind":"text","text":", "},{"kind":"externalParam","text":"setup"},{"kind":"text","text":": ("},{"kind":"typeIdentifier","text":"ControllerConnection","preciseIdentifier":"s:4Atem20ControllerConnectionP"},{"kind":"text","text":") -> "},{"kind":"typeIdentifier","text":"Void","preciseIdentifier":"s:s4Voida"},{"kind":"text","text":")"}],"abstract":[{"type":"text","text":"Start a new Controller that connects to an ATEM Switcher specified by its IP address."}],"identifier":"doc:\/\/Atem\/documentation\/Atem\/Controller\/init(socket:eventLoopGroup:setup:)","kind":"symbol","type":"topic","url":"\/documentation\/atem\/controller\/init(socket:eventloopgroup:setup:)"},"doc://Atem/documentation/Atem/ControllerConnection/when(_:)":{"role":"symbol","title":"when(_:)","fragments":[{"kind":"keyword","text":"func"},{"kind":"text","text":" "},{"kind":"identifier","text":"when"},{"kind":"text","text":"<"},{"kind":"genericParameter","text":"M"},{"kind":"text","text":">(("},{"kind":"typeIdentifier","text":"M"},{"kind":"text","text":") -> "},{"kind":"typeIdentifier","text":"Void","preciseIdentifier":"s:s4Voida"},{"kind":"text","text":")"}],"abstract":[{"type":"text","text":"Attaches a message handler to a concrete type that implements "},{"type":"reference","isActive":true,"identifier":"doc:\/\/Atem\/documentation\/Atem\/DeserializableMessage"},{"type":"text","text":". Every time a message of this type comes in, the provided "},{"type":"codeVoice","code":"handler"},{"type":"text","text":" will be called."},{"type":"text","text":" "},{"type":"text","text":"The handler takes one generic argument "},{"type":"codeVoice","code":"message"},{"type":"text","text":". The type of this argument indicates the type that this message handler will be attached to."}],"identifier":"doc:\/\/Atem\/documentation\/Atem\/ControllerConnection\/when(_:)","kind":"symbol","required":true,"type":"topic","url":"\/documentation\/atem\/controllerconnection\/when(_:)"},"doc://Atem/documentation/Atem/DeserializableMessage":{"role":"symbol","title":"DeserializableMessage","fragments":[{"kind":"keyword","text":"protocol"},{"kind":"text","text":" "},{"kind":"identifier","text":"DeserializableMessage"}],"abstract":[{"type":"text","text":"A message that can be constructed from a sequence of bytes ("},{"type":"codeVoice","code":"ArraySlice<UInt8>"},{"type":"text","text":")"}],"identifier":"doc:\/\/Atem\/documentation\/Atem\/DeserializableMessage","kind":"symbol","type":"topic","navigatorTitle":[{"kind":"identifier","text":"DeserializableMessage"}],"url":"\/documentation\/atem\/deserializablemessage"}}}